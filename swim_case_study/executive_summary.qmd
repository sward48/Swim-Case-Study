---
format: pdf
editor: visual
keep-tex: true
urlcolor: blue
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo   =FALSE,      ## show or suppress the code
                      include=TRUE ,      ## show or suppress the output
                      message=FALSE,      ## omit messages generated by code
                      warning=FALSE,      ## omit warnings generated by code
                      comment=NA,         ## removes the ## from in front of outputs
                      fig.align="center", ## centers all figures
                      fig.height = 2.5,     ## set the default height
                      fig.weight = 2.5      ## set the default width
                      )
```

```{r}
source('R/libraries.R')
source('R/prepdata.R')
source('R/analysis.R')
```


\begin{center}
\textbf{Relay Prediction Analysis}

Steven Ward
\end{center}


During the Olympics, selecting the optimal relay team is crucial for maximizing medal potential. Choosing the correct relay team involves advanced strategy. This project contains an all encompassing guide to predicting a swimmer's performance at the Olympics, with the end goal of helping Team USA choose the best relays. 

Using data from USA Swimming, we were able to build a series of models that accurately predict swimmers' Olympic times based on their races from the previous four years. Based on these predictive models, we created an interactive application that allows USA Swimming to choose any relay, and output the predicted best relay team. 

The predictions based on the models can be easily summarized by plotting. For example, the plot below shows the predicted Olympic times versus the actual Olympic times for swimmers in the 100 freestyle. The closer the points are to the diagonal line, the more accurate the predictions are.


```{r}
#100 free
model_100_free <- run_model(clean, "free", 100)
predictions_100_free <- predict_olympics(model_100_free, clean, "free", 100)

out <- evaluate_pred(predictions_100_free)

g <- out$plot_actual

g
```

With the prediction models being so accurate, we were able to predict every relay within 1.5 seconds of the actual times. While 1.5 seconds is a lot for a swim race, the predicted time being within a second and a half for a race that is over 3 minutes is extremely precise.

The app also allows for customization. Team USA will be able to filter out any swimmer they want. Say a swimmer needs to rest, but is suggested for the fastest relay. The user can filter out that swimmer and get a new team suggestion.

We suggest the relay predictions outputted from the app be used in conjunction with coaches' decisions in order to keep up with what is currently happening at the Olympics. This will yield the best results for Team USA.

